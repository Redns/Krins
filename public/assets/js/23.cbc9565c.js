(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{564:function(t,s,a){"use strict";a.r(s);var n=a(12),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"基础知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础知识"}},[t._v("#")]),t._v(" 基础知识")]),t._v(" "),a("h5",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),a("ul",[a("li",[t._v("ARM Cortex M3内核支持"),a("code",[t._v("256")]),t._v("个中断，包括"),a("code",[t._v("16个内核中断")]),t._v("和"),a("code",[t._v("240个外设中断")]),t._v("，拥有256个中断优先级别")]),t._v(" "),a("li",[t._v("STM32的中断通道可能会由"),a("code",[t._v("多个中断源共用")]),t._v("，因此在"),a("code",[t._v("中断服务函数入口")]),t._v("处需要判断中断源")]),t._v(" "),a("li",[t._v("STM32中有两个中断优先级概念，"),a("code",[t._v("抢占优先级")]),t._v("和"),a("code",[t._v("响应优先级")]),t._v("，每个中断都应指定这两个优先级")])]),t._v(" "),a("h5",{attrs:{id:"外部中断"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外部中断"}},[t._v("#")]),t._v(" 外部中断")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("16个外部中断源"),a("code",[t._v("EXTI0 ~ EXTI15")]),t._v("，对应"),a("code",[t._v("7个中断向量")]),t._v("，即"),a("code",[t._v("7个中断服务函数")])]),t._v(" "),a("ul",[a("li",[t._v("EXTI0、EXTI1、EXTI2、EXTI3、EXTI4：专用")]),t._v(" "),a("li",[t._v("EXTI5 ~ EXTI9：共用")]),t._v(" "),a("li",[t._v("EXTI10 ~ EXTI15：共用")])])]),t._v(" "),a("li",[a("p",[t._v("触发条件")]),t._v(" "),a("ul",[a("li",[t._v("上升沿触发")]),t._v(" "),a("li",[t._v("下降沿触发")]),t._v(" "),a("li",[t._v("双边沿触发")])])])]),t._v(" "),a("h5",{attrs:{id:"weak"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#weak"}},[t._v("#")]),t._v(" __weak")]),t._v(" "),a("ul",[a("li",[t._v("STM32中的关键字，可用于修饰变量或函数")]),t._v(" "),a("li",[t._v("当一个函数前面加上"),a("code",[t._v("__weak")]),t._v("这样的修饰符以后，允许用户在其它文件中定义一个和"),a("code",[t._v("__weak")]),t._v("修饰过的一模一样的函数，最终当编译器编译的时候，会选择用户定义的函数，如果用户没有重新实现这个函数，则编译器就会去执行带"),a("code",[t._v("__weak")]),t._v("修饰的函数")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.21ic.com/article/883535.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细内容"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n * @Descript\t中断回调函数\n * @param\t\tGPIO_Pin\t\t引起中断的引脚\t\n * @return\t\tvoid\n*/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("HAL_GPIO_EXTI_Callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint16_t")]),t._v(" GPIO_Pin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("h3",{attrs:{id:"demo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[t._v("#")]),t._v(" Demo")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("在STM32Cube中设置相关管脚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2021/12/19/2hjUXRgKJM9BiSc.png",alt:"image-20210906220149199"}})])]),t._v(" "),a("li",[a("p",[t._v("选择触发方式、上/下拉")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2021/12/19/2mCUWR9lTuyvbHX.png",alt:"image-20211219231644434"}})])]),t._v(" "),a("li",[a("p",[t._v("点击NVIC使能中断")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2021/12/19/r7bDZltLAp1yEXf.png",alt:"image-20211219231709285"}})])]),t._v(" "),a("li",[a("p",[t._v("在"),a("code",[t._v("main函数")]),t._v("中复写"),a("code",[t._v("HAL_GPIO_EXTI_Callback")]),t._v("函数")]),t._v(" "),a("div",{staticClass:"language-c line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//main.c")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("HAL_GPIO_EXTI_Callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint16_t")]),t._v(" GPIO_Pin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GPIO_Pin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" GPIO_PIN_x"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//what you want to do")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...    ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);